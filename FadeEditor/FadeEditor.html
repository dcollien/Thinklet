<!DOCTYPE html>
<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css" type="text/css" media="screen" charset="utf-8">
<link rel="stylesheet" href="lib/farbtastic/farbtastic.css" type="text/css" />
<style>
.flexbox {
	display: -webkit-box;
	-webkit-box-orient: horizontal;
	-webkit-box-pack: center;
	-webkit-box-align: center;
	
	display: -moz-box;
	-moz-box-orient: horizontal;
	-moz-box-pack: center;
	-moz-box-align: center;

	display: box;
	box-orient: horizontal;
	box-pack: center;
	box-align: center;
}

.centerbox {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
	
	overflow-y: auto;
	
	background-color: #000;
}
.curveTitles {
	float: left;
	padding-top: 16px;
	padding-bottom: 16px;
	
	width: 64px;
	height: 100%;
	
	margin: 0px;
	
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	color: #aaa;
	font-weight: bold;
}

.curveTitle {
	height: 288px;
	padding-left: 4px;
}



body, html { width: 100%; height: 100%; padding: 0; margin: 0; overflow: hidden }
canvas {
	border-left: 1px solid #666;
	margin-left: -1px;
}
body {
	background-color: #000;
}

.context-menu {
	position: absolute;
	background-color: #333;
	color: #eee;
	border: 1px solid #666;
	border-radius: 0px 10px 10px 10px;
	padding: 4px;
	
	opacity: 0.9;
	-moz-opacity: 0.9;
	filter:alpha(opacity=90);
}

.menu-item {
	cursor: pointer;
	margin-left: 1px;
	padding-left: 5px;
	padding-right: 5px;
	border-radius: 5px;
}

.menu-item:hover {
	background-color: #ccc;
}

.menu-text {
	color: #eee;
}

.menu-item:hover .menu-text {
	color: #444;
}

.menu-box {
	position: absolute;
	top: 10px;
	left: 10px;
	padding: 5px;
}

.canvasContainer {
	height:100%;
	width:100%;
}

.colorbox {
	display: block;
	width: 15px;
	height: 15px;
	border-radius: 2px;
}

.colorbox:hover {
	opacity:0.8;
}

.dialogHeader {
	font-weight: 300;
	color: #eee;
	border-color: #555;
	background-color: #444;
}

#colorchooser {
	width: 320px;
	background-color: #333;
	color: #ccc;
	border-color: #555;
}

</style>
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">Thinklet Fade Editor</a>
      <div class="nav-collapse">
        <ul class="nav">
          <li><a data-toggle="modal" href="#how-to">How do I use this?</a></li>
          <li><a data-toggle="modal" href="#debug-info">Compile Debug Stuff</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>

<div style="height:40px;background-color:red"></div>

<div class="centerbox flexbox container">
	<div style="height:100%;width:100%;">
		<div class="curveTitles">
		</div>
		<div class="canvasContainer">
			<canvas></canvas>
		</div>
	</div>
</div>
<div class="context-menu hide">
	<ul>
		<li class="menu-item" id="item-smooth-node" style="list-style:disc;color:#0f0"><span class="menu-text">Smooth</span></li>
		<li class="menu-item" id="item-symmetric-node" style="list-style:disc;color:#f0f"><span class="menu-text">Symmetric</span></li>
		<li class="menu-item" id="item-sharp-node" style="list-style:square;color:#f00"><span class="menu-text">Sharp</span></li>
		<li class="menu-item" id="item-flat-node" style="list-style:square;color:#ff0"><span class="menu-text">Flat</span></li>
		<li class="menu-item" id="item-remove-node" style="list-style-image: url('media/remove.png');"><span class="menu-text">Remove</span></li>
		<li class="menu-item" id="item-reset-node" style="list-style:circle;color:#ccc"><span class="menu-text">Reset</span></li>
	</ul>
</div>

<div class="modal hide" id="how-to">
	<div class="modal-header">
	<a class="close" data-dismiss="modal">&times;</a>
	<h3>What Does What</h3>
	</div>
	<div class="modal-body">
		<em>Dragging the Curve:</em> <dd>Create more detail with a new node</dd><br/>
		<em>Dragging the Backdrop:</em> <dd>Pan/scroll the view</dd><br/>
		<em>Right-clicking a Node:</em> <dd>Change the type, reset or remove the node</dd><br/>
		
		<em>Holding <b>Ctrl</b> and Clicking:</em> <dd>Create new nodes</dd><br/>
		<em>Holding <b>Shift</b> and Dragging:</em> <dd>Stretch/compress the curve</dd><br/>
		<em>Holding <b>Ctrl+Shift</b> Dragging:</em> <dd>Stretch/compress all curves</dd><br/>
		
		<em>Holding <b>K</b>:</em> <dd>View optimised keyframes</dd><br/>
	</div>
</div>

<div class="modal hide" id="debug-info">
	<div class="modal-header">
	<a class="close" data-dismiss="modal">&times;</a>
	<h3>Compile Debug</h3>
	</div>
	<div class="modal-body">
		<div class="padding:10px">
			<div class="btn btn-primary" id="compile-button">Do Clever Things</div>
			<br/><br/>
			<textarea id="compile-output" style="width:100%;height:300px">
			</textarea>
		</div>
	</div>
</div>

<div class="modal hide" id="colorchooser">
  <center>
  <div class="modal-header dialogHeader">
    <a class="close" data-dismiss="modal" data-target="#colorchooser">&times;</a>
    <h3 class="dialogHeader">Channel Display Color</h3>
  </div>
  <div class="modal-body">
    <div id="farbtastic"></div>
  </div>
  </center>
</div>

<script src="lib/jquery.js"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
<script src="lib/farbtastic/farbtastic.js"></script>
<script src="lib/rgbcolor.js"></script>
<script src="lib/core.js"></script>
<script src="lib/math.js"></script>
<script src="app.js"></script>
<script>
run( );
</script>
